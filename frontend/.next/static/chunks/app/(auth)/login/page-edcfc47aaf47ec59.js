(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{8524:function(e,t,r){Promise.resolve().then(r.bind(r,2479))},8792:function(e,t,r){"use strict";r.d(t,{default:function(){return a.a}});var n=r(5250),a=r.n(n)},7907:function(e,t,r){"use strict";var n=r(5313);r.o(n,"useParams")&&r.d(t,{useParams:function(){return n.useParams}}),r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},2479:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(3827),a=r(4090),o=r(8792),s=r(7907),i=r(8222),u=r(798),l=r(6651),c=r(2278),d=r(5970),f=r(7418);function m(){let[e,t]=(0,a.useState)(""),[r,m]=(0,a.useState)(""),[g,h]=(0,a.useState)(null),[p,v]=(0,a.useState)(!1),x=(0,s.useRouter)(),{login:b}=(0,u.a)(),y=async t=>{t.preventDefault(),h(null),v(!0);try{let t=await i.h.post("/api/v1/auth/login",new URLSearchParams({username:e,password:r}),!1);b(t.access_token),x.push("/tasks")}catch(e){h(e.message||"Failed to log in. Please check your credentials.")}finally{v(!1)}};return(0,n.jsxs)(f.Zb,{className:"shadow-lg",children:[(0,n.jsxs)(f.Ol,{className:"text-center",children:[(0,n.jsx)(f.ll,{className:"text-2xl font-bold",children:"Log in to your account"}),(0,n.jsx)(f.SZ,{children:"Enter your credentials below"})]}),(0,n.jsxs)(f.aY,{children:[(0,n.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d._,{htmlFor:"username",children:"Username"}),(0,n.jsx)(c.I,{id:"username",type:"text",placeholder:"username",required:!0,value:e,onChange:e=>t(e.target.value),disabled:p})]}),(0,n.jsxs)("div",{className:"grid gap-2",children:[(0,n.jsx)(d._,{htmlFor:"password",children:"Password"}),(0,n.jsx)(c.I,{id:"password",type:"password",placeholder:"password",required:!0,value:r,onChange:e=>m(e.target.value),disabled:p})]}),g&&(0,n.jsx)("p",{className:"text-destructive text-sm text-center",children:g}),(0,n.jsx)(l.z,{type:"submit",className:"w-full",disabled:p,children:p?"Logging in...":"Log in"})]}),(0,n.jsxs)("div",{className:"mt-4 text-center text-sm text-muted-foreground",children:["Don't have an account?"," ",(0,n.jsx)(o.default,{href:"/signup",className:"underline underline-offset-4",children:"Sign up"})]})]})]})}},6651:function(e,t,r){"use strict";r.d(t,{d:function(){return s},z:function(){return i}});var n=r(3827),a=r(4090),o=r(9143);let s=(0,r(9769).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=a.forwardRef((e,t)=>{let{className:r,variant:a,size:i,asChild:u=!1,...l}=e,c=u?o.g7:"button";return(0,n.jsx)(c,{className:s({variant:a,size:i,className:r}),ref:t,...l})});i.displayName="Button"},7418:function(e,t,r){"use strict";r.d(t,{Ol:function(){return i},SZ:function(){return l},Zb:function(){return s},aY:function(){return c},eW:function(){return d},ll:function(){return u}});var n=r(3827),a=r(4090);let o=(0,r(9769).j)("rounded-lg border bg-card text-card-foreground shadow-sm",{variants:{},defaultVariants:{}}),s=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:o({className:r}),...a})});s.displayName="Card";let i=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:"flex flex-col space-y-1.5 p-6 ".concat(r),...a})});i.displayName="CardHeader";let u=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("h3",{ref:t,className:"text-lg font-semibold leading-none tracking-tight ".concat(r),...a})});u.displayName="CardTitle";let l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("p",{ref:t,className:"text-sm text-muted-foreground ".concat(r),...a})});l.displayName="CardDescription";let c=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:"p-6 pt-0 ".concat(r),...a})});c.displayName="CardContent";let d=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)("div",{ref:t,className:"flex items-center p-6 pt-0 ".concat(r),...a})});d.displayName="CardFooter"},2278:function(e,t,r){"use strict";r.d(t,{I:function(){return s}});var n=r(3827),a=r(4090),o=r(2169);let s=a.forwardRef((e,t)=>{let{className:r,type:a,...s}=e;return(0,n.jsx)("input",{type:a,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});s.displayName="Input"},5970:function(e,t,r){"use strict";r.d(t,{_:function(){return l}});var n=r(3827),a=r(4090),o=r(1506),s=r(9769),i=r(2169);let u=(0,s.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=a.forwardRef((e,t)=>{let{className:r,...a}=e;return(0,n.jsx)(o.f,{ref:t,className:(0,i.cn)(u(),r),...a})});l.displayName=o.f.displayName},8222:function(e,t,r){"use strict";r.d(t,{h:function(){return o}});let n=e=>{if("undefined"==typeof document)return null;let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null};async function a(e,t,r){let a,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],s={};if(r instanceof URLSearchParams?(a=r,s["Content-Type"]="application/x-www-form-urlencoded"):r&&(a=JSON.stringify(r),s["Content-Type"]="application/json"),o){let e=n("accessToken");if(e)s.Authorization="Bearer ".concat(e);else throw console.warn("Attempted to make authenticated request without a token."),Error("Authentication required.")}let i={method:e,headers:s,body:a};try{let e=await fetch("".concat("http://localhost:8000").concat(t),i);if(!e.ok){let t;try{t=await e.json()}catch(r){t=await e.text()}let r="Something went wrong";throw r="string"==typeof t?"Server responded with: ".concat(e.status," ").concat(e.statusText," - ").concat(t):t&&Array.isArray(t.detail)?t.detail.map(e=>e.msg).join("; "):t&&"string"==typeof t.detail?t.detail:t&&t.message?t.message:"Server responded with: ".concat(e.status," ").concat(e.statusText),Error(r)}if(204===e.status)return{};return await e.json()}catch(e){throw console.error("API request failed:",e),e}}let o={get:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a("GET",e,void 0,t)},post:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a("POST",e,t,r)},put:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return a("PUT",e,t,r)},delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return a("DELETE",e,void 0,t)}}},798:function(e,t,r){"use strict";r.d(t,{H:function(){return u},a:function(){return l}});var n=r(3827),a=r(4090);let o=(0,a.createContext)(void 0),s=e=>{if("undefined"==typeof document)return null;let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let n=r[e];for(;" "===n.charAt(0);)n=n.substring(1,n.length);if(0===n.indexOf(t))return n.substring(t.length,n.length)}return null},i=(e,t,r)=>{if("undefined"==typeof document)return;let n="";if(r){let e=new Date;e.setTime(e.getTime()+864e5*r),n="; expires="+e.toUTCString()}document.cookie=e+"="+(t||"")+n+"; path=/"},u=e=>{let{children:t}=e,[r,u]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{let e=s("accessToken");e&&(u(e),c(!0))},[]),(0,n.jsx)(o.Provider,{value:{token:r,isAuthenticated:l,login:e=>{i("accessToken",e,7),u(e),c(!0)},logout:()=>{i("accessToken","",0),u(null),c(!1)}},children:t})},l=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return o}});var n=r(3167),a=r(1367);function o(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.m6)((0,n.W)(t))}},1506:function(e,t,r){"use strict";r.d(t,{f:function(){return u}});var n=r(4090);r(9542);var a=r(9143),o=r(3827),s=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,a.Z8)("Primitive.".concat(t)),s=n.forwardRef((e,n)=>{let{asChild:a,...s}=e,i=a?r:t;return window[Symbol.for("radix-ui")]=!0,(0,o.jsx)(i,{...s,ref:n})});return s.displayName="Primitive.".concat(t),{...e,[t]:s}},{}),i=n.forwardRef((e,t)=>(0,o.jsx)(s.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var u=i}},function(e){e.O(0,[250,233,971,69,744],function(){return e(e.s=8524)}),_N_E=e.O()}]);