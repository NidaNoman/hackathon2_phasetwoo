(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[227],{5671:function(e,t,a){Promise.resolve().then(a.bind(a,7268))},7907:function(e,t,a){"use strict";var s=a(5313);a.o(s,"useParams")&&a.d(t,{useParams:function(){return s.useParams}}),a.o(s,"usePathname")&&a.d(t,{usePathname:function(){return s.usePathname}}),a.o(s,"useRouter")&&a.d(t,{useRouter:function(){return s.useRouter}})},7268:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return d}});var s=a(3827),n=a(4090),r=a(7907),o=a(8222),i=a(3963),l=a(8792);function d(){let e=(0,r.useRouter)(),t=(0,r.useParams)().id,[a,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0),[f,m]=(0,n.useState)(null),h=(0,n.useCallback)(async()=>{u(!0),m(null);try{let e=await o.h.get("/api/v1/tasks/".concat(t),!0);d(e)}catch(e){console.error("Failed to fetch task:",e),m("Failed to fetch task: ".concat(e.message))}finally{u(!1)}},[t]);return((0,n.useEffect)(()=>{t&&h()},[t,h]),c)?(0,s.jsx)("div",{className:"container mx-auto p-4",children:"Loading task..."}):f?(0,s.jsx)("div",{className:"container mx-auto p-4 text-red-500",children:f}):a?(0,s.jsxs)("div",{className:"container mx-auto p-4",children:[(0,s.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Task Details"}),(0,s.jsxs)("div",{className:"p-4 border rounded-md shadow-sm",children:[(0,s.jsx)("h3",{className:"text-xl font-semibold",children:a.title}),a.description&&(0,s.jsx)("p",{className:"text-gray-700 mt-2",children:a.description}),(0,s.jsxs)("p",{className:"text-md font-medium mt-2 ".concat("completed"===a.status?"text-green-600":"text-yellow-600"),children:["Status: ",a.status]}),(0,s.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,s.jsx)(l.default,{href:"/tasks/".concat(a.id,"/edit"),className:"px-4 py-2 bg-blue-600 text-white font-semibold rounded-md shadow-sm hover:bg-blue-700",children:"Edit"}),(0,s.jsx)(i.u,{taskId:a.id,taskTitle:a.title,onDeleteSuccess:t=>{e.push("/tasks")},children:(0,s.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white font-semibold rounded-md shadow-sm hover:bg-red-700",children:"Delete"})})]})]})]}):(0,s.jsx)("div",{className:"container mx-auto p-4",children:"Task not found."})}},3963:function(e,t,a){"use strict";a.d(t,{u:function(){return v}});var s=a(3827),n=a(4090),r=a(9028),o=a(2169),i=a(6651);let l=r.fC,d=r.xz,c=r.h_,u=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aV,{className:(0,o.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...n,ref:t})});u.displayName=r.aV.displayName;let f=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(u,{}),(0,s.jsx)(r.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full",a),...n})]})});f.displayName=r.VY.displayName;let m=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...a})};m.displayName="AlertDialogHeader";let h=e=>{let{className:t,...a}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};h.displayName="AlertDialogFooter";let x=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold",a),...n})});x.displayName=r.Dx.displayName;let p=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,o.cn)("text-sm text-muted-foreground",a),...n})});p.displayName=r.dk.displayName;let g=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.aU,{ref:t,className:(0,o.cn)((0,i.d)(),a),...n})});g.displayName=r.aU.displayName;let y=n.forwardRef((e,t)=>{let{className:a,...n}=e;return(0,s.jsx)(r.$j,{ref:t,className:(0,o.cn)((0,i.d)({variant:"outline"}),"mt-2 sm:mt-0",a),...n})});y.displayName=r.$j.displayName;var b=a(8222);function v(e){let{taskId:t,taskTitle:a,onDeleteSuccess:r,children:o}=e,[i,c]=(0,n.useState)(!1),[u,v]=(0,n.useState)(null),[j,N]=(0,n.useState)(!1),w=async()=>{c(!0),v(null);try{await b.h.delete("/api/v1/tasks/".concat(t,"/"),!0),r(t),N(!1)}catch(e){console.error("Failed to delete task:",e),v("Failed to delete task: ".concat(e.message))}finally{c(!1)}};return(0,s.jsxs)(l,{open:j,onOpenChange:N,children:[(0,s.jsx)(d,{asChild:!0,children:o}),(0,s.jsxs)(f,{children:[(0,s.jsxs)(m,{children:[(0,s.jsx)(x,{children:"Are you absolutely sure?"}),(0,s.jsxs)(p,{children:["This action cannot be undone. This will permanently delete your task:"," ",(0,s.jsx)("span",{className:"font-semibold text-foreground",children:a}),".",u&&(0,s.jsx)("p",{className:"text-destructive text-sm mt-2",children:u})]})]}),(0,s.jsxs)(h,{children:[(0,s.jsx)(y,{disabled:i,children:"Cancel"}),(0,s.jsx)(g,{onClick:w,disabled:i,className:"bg-destructive hover:bg-destructive/90",children:i?"Deleting...":"Delete"})]})]})]})}},6651:function(e,t,a){"use strict";a.d(t,{d:function(){return o},z:function(){return i}});var s=a(3827),n=a(4090),r=a(9143);let o=(0,a(9769).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),i=n.forwardRef((e,t)=>{let{className:a,variant:n,size:i,asChild:l=!1,...d}=e,c=l?r.g7:"button";return(0,s.jsx)(c,{className:o({variant:n,size:i,className:a}),ref:t,...d})});i.displayName="Button"},8222:function(e,t,a){"use strict";a.d(t,{h:function(){return r}});let s=e=>{if("undefined"==typeof document)return null;let t=e+"=",a=document.cookie.split(";");for(let e=0;e<a.length;e++){let s=a[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null};async function n(e,t,a){let n,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o={};if(a instanceof URLSearchParams?(n=a,o["Content-Type"]="application/x-www-form-urlencoded"):a&&(n=JSON.stringify(a),o["Content-Type"]="application/json"),r){let e=s("accessToken");if(e)o.Authorization="Bearer ".concat(e);else throw console.warn("Attempted to make authenticated request without a token."),Error("Authentication required.")}let i={method:e,headers:o,body:n};try{let e=await fetch("".concat("http://localhost:8000").concat(t),i);if(!e.ok){let t;try{t=await e.json()}catch(a){t=await e.text()}let a="Something went wrong";throw a="string"==typeof t?"Server responded with: ".concat(e.status," ").concat(e.statusText," - ").concat(t):t&&Array.isArray(t.detail)?t.detail.map(e=>e.msg).join("; "):t&&"string"==typeof t.detail?t.detail:t&&t.message?t.message:"Server responded with: ".concat(e.status," ").concat(e.statusText),Error(a)}if(204===e.status)return{};return await e.json()}catch(e){throw console.error("API request failed:",e),e}}let r={get:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n("GET",e,void 0,t)},post:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n("POST",e,t,a)},put:function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n("PUT",e,t,a)},delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n("DELETE",e,void 0,t)}}},2169:function(e,t,a){"use strict";a.d(t,{cn:function(){return r}});var s=a(3167),n=a(1367);function r(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[250,233,137,659,971,69,744],function(){return e(e.s=5671)}),_N_E=e.O()}]);