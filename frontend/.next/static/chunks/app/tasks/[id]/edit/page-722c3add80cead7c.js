(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[891],{9335:function(e,t,r){Promise.resolve().then(r.bind(r,472))},472:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return b}});var s=r(3827),n=r(4090),a=r(8222),i=r(6651),l=r(2278),o=r(5970),d=r(4706),c=r(9417),u=r(2169);let f=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(c.fC,{className:(0,u.cn)("grid gap-2",r),...n,ref:t})});f.displayName=c.fC.displayName;let m=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(c.ck,{ref:t,className:(0,u.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",r),...n,children:(0,s.jsx)(c.z$,{className:"flex items-center justify-center",children:(0,s.jsx)("span",{className:"h-2.5 w-2.5 rounded-full bg-primary"})})})});m.displayName=c.ck.displayName;var p=r(9580);function h(e){let{task:t,onTaskUpdated:r}=e,[c,u]=(0,n.useState)(t.title),[h,g]=(0,n.useState)(t.description||""),[x,b]=(0,n.useState)(t.status),[v,y]=(0,n.useState)(!1),[j,N]=(0,n.useState)(null),[w,k]=(0,n.useState)(!1),[T,C]=(0,n.useState)(null);(0,n.useEffect)(()=>{u(t.title),g(t.description||""),b(t.status)},[t]);let S=()=>{let e=!0;return c.trim()?c.trim().length<1?(C("Title must be at least 1 character long."),e=!1):c.trim().length>255?(C("Title cannot exceed 255 characters."),e=!1):C(null):(C("Title is required."),e=!1),e},R=async e=>{if(e.preventDefault(),N(null),k(!1),S()){y(!0);try{await a.h.put("/api/v1/tasks/".concat(t.id,"/"),{title:c,description:h,status:x},!0),N("Task updated successfully!"),k(!1),r()}catch(e){console.error("Failed to update task:",e),N("Failed to update task: ".concat(e.message)),k(!0)}finally{y(!1)}}};return(0,s.jsx)("div",{className:"p-6",children:(0,s.jsxs)("form",{onSubmit:R,className:"space-y-4",children:[j&&(0,s.jsx)("div",{className:"p-3 rounded-md ".concat(w?"bg-destructive/20 text-destructive":"bg-green-100 text-green-700"),children:j}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{htmlFor:"title",children:"Title"}),(0,s.jsx)(l.I,{type:"text",id:"title",value:c,onChange:e=>{u(e.target.value),T&&C(null)},required:!0,disabled:v}),T&&(0,s.jsx)("p",{className:"text-destructive text-sm mt-1",children:T})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{htmlFor:"description",children:"Description"}),(0,s.jsx)(d.g,{id:"description",rows:3,value:h,onChange:e=>g(e.target.value),disabled:v})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(o._,{children:"Status"}),(0,s.jsxs)(f,{value:x,onValueChange:e=>b(e),disabled:v,children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m,{value:"pending",id:"status-pending"}),(0,s.jsx)(o._,{htmlFor:"status-pending",children:"Pending"})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(m,{value:"completed",id:"status-completed"}),(0,s.jsx)(o._,{htmlFor:"status-completed",children:"Completed"})]})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,s.jsx)(i.z,{type:"button",variant:"outline",onClick:r,disabled:v,children:"Cancel"}),(0,s.jsx)(i.z,{type:"submit",disabled:v||!!T,children:v?(0,s.jsx)(p.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"Update Task"})]})]})})}var g=r(7418),x=r(7907);function b(e){let{params:t}=e,r=(0,x.useRouter)(),l=parseInt(t.id),[o,d]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0),[f,m]=(0,n.useState)(null);return((0,n.useEffect)(()=>{if(isNaN(l)){m("Invalid Task ID."),u(!1);return}(async()=>{u(!0),m(null);try{let e=await a.h.get("/api/v1/tasks/".concat(l,"/"),!0);d(e)}catch(e){console.error("Failed to fetch task:",e),m("Failed to load task: ".concat(e.message))}finally{u(!1)}})()},[l]),c)?(0,s.jsxs)(g.Zb,{className:"shadow-lg p-6 text-center",children:[(0,s.jsx)(g.ll,{children:"Loading Task..."}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"Please wait while we fetch the task details."})]}):f?(0,s.jsxs)(g.Zb,{className:"shadow-lg p-6 text-center border-destructive",children:[(0,s.jsx)(g.ll,{className:"text-destructive",children:"Error"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:f}),(0,s.jsx)(i.z,{onClick:()=>r.push("/tasks"),className:"mt-4",children:"Back to Tasks"})]}):o?(0,s.jsxs)(g.Zb,{className:"shadow-lg",children:[(0,s.jsx)(g.Ol,{children:(0,s.jsx)(g.ll,{className:"text-2xl font-bold",children:"Edit Task"})}),(0,s.jsx)(g.aY,{children:(0,s.jsx)(h,{task:o,onTaskUpdated:()=>{r.push("/tasks")}})})]}):(0,s.jsxs)(g.Zb,{className:"shadow-lg p-6 text-center",children:[(0,s.jsx)(g.ll,{children:"Task Not Found"}),(0,s.jsx)("p",{className:"text-muted-foreground mt-2",children:"The task you are looking for does not exist."}),(0,s.jsx)(i.z,{onClick:()=>r.push("/tasks"),className:"mt-4",children:"Back to Tasks"})]})}},6651:function(e,t,r){"use strict";r.d(t,{d:function(){return i},z:function(){return l}});var s=r(3827),n=r(4090),a=r(9143);let i=(0,r(9769).j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),l=n.forwardRef((e,t)=>{let{className:r,variant:n,size:l,asChild:o=!1,...d}=e,c=o?a.g7:"button";return(0,s.jsx)(c,{className:i({variant:n,size:l,className:r}),ref:t,...d})});l.displayName="Button"},7418:function(e,t,r){"use strict";r.d(t,{Ol:function(){return l},SZ:function(){return d},Zb:function(){return i},aY:function(){return c},eW:function(){return u},ll:function(){return o}});var s=r(3827),n=r(4090);let a=(0,r(9769).j)("rounded-lg border bg-card text-card-foreground shadow-sm",{variants:{},defaultVariants:{}}),i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:a({className:r}),...n})});i.displayName="Card";let l=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:"flex flex-col space-y-1.5 p-6 ".concat(r),...n})});l.displayName="CardHeader";let o=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("h3",{ref:t,className:"text-lg font-semibold leading-none tracking-tight ".concat(r),...n})});o.displayName="CardTitle";let d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("p",{ref:t,className:"text-sm text-muted-foreground ".concat(r),...n})});d.displayName="CardDescription";let c=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:"p-6 pt-0 ".concat(r),...n})});c.displayName="CardContent";let u=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("div",{ref:t,className:"flex items-center p-6 pt-0 ".concat(r),...n})});u.displayName="CardFooter"},2278:function(e,t,r){"use strict";r.d(t,{I:function(){return i}});var s=r(3827),n=r(4090),a=r(2169);let i=n.forwardRef((e,t)=>{let{className:r,type:n,...i}=e;return(0,s.jsx)("input",{type:n,className:(0,a.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...i})});i.displayName="Input"},5970:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var s=r(3827),n=r(4090),a=r(1506),i=r(9769),l=r(2169);let o=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)(a.f,{ref:t,className:(0,l.cn)(o(),r),...n})});d.displayName=a.f.displayName},4706:function(e,t,r){"use strict";r.d(t,{g:function(){return i}});var s=r(3827),n=r(4090),a=r(2169);let i=n.forwardRef((e,t)=>{let{className:r,...n}=e;return(0,s.jsx)("textarea",{className:(0,a.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...n})});i.displayName="Textarea"},8222:function(e,t,r){"use strict";r.d(t,{h:function(){return a}});let s=e=>{if("undefined"==typeof document)return null;let t=e+"=",r=document.cookie.split(";");for(let e=0;e<r.length;e++){let s=r[e];for(;" "===s.charAt(0);)s=s.substring(1,s.length);if(0===s.indexOf(t))return s.substring(t.length,s.length)}return null};async function n(e,t,r){let n,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={};if(r instanceof URLSearchParams?(n=r,i["Content-Type"]="application/x-www-form-urlencoded"):r&&(n=JSON.stringify(r),i["Content-Type"]="application/json"),a){let e=s("accessToken");if(e)i.Authorization="Bearer ".concat(e);else throw console.warn("Attempted to make authenticated request without a token."),Error("Authentication required.")}let l={method:e,headers:i,body:n};try{let e=await fetch("".concat("http://localhost:8000").concat(t),l);if(!e.ok){let t;try{t=await e.json()}catch(r){t=await e.text()}let r="Something went wrong";throw r="string"==typeof t?"Server responded with: ".concat(e.status," ").concat(e.statusText," - ").concat(t):t&&Array.isArray(t.detail)?t.detail.map(e=>e.msg).join("; "):t&&"string"==typeof t.detail?t.detail:t&&t.message?t.message:"Server responded with: ".concat(e.status," ").concat(e.statusText),Error(r)}if(204===e.status)return{};return await e.json()}catch(e){throw console.error("API request failed:",e),e}}let a={get:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n("GET",e,void 0,t)},post:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n("POST",e,t,r)},put:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n("PUT",e,t,r)},delete:function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n("DELETE",e,void 0,t)}}},2169:function(e,t,r){"use strict";r.d(t,{cn:function(){return a}});var s=r(3167),n=r(1367);function a(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,n.m6)((0,s.W)(t))}}},function(e){e.O(0,[233,137,622,971,69,744],function(){return e(e.s=9335)}),_N_E=e.O()}]);