(()=>{var e={};e.id=289,e.ids=[289],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},76:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>p,tree:()=>o});var a=t(482),r=t(9108),l=t(2563),i=t.n(l),d=t(8300),n={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>d[e]);t.d(s,n);let o=["",{children:["tasks",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,7777)),"C:\\Users\\user\\Desktop\\lastdamn\\frontend\\src\\app\\tasks\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,9726)),"C:\\Users\\user\\Desktop\\lastdamn\\frontend\\src\\app\\tasks\\layout.tsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,1342)),"C:\\Users\\user\\Desktop\\lastdamn\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9361,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\user\\Desktop\\lastdamn\\frontend\\src\\app\\tasks\\page.tsx"],u="/tasks/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/tasks/page",pathname:"/tasks",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},5346:(e,s,t)=>{Promise.resolve().then(t.bind(t,9542))},6389:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(7075).Z)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},9542:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(5344),r=t(3729),l=t(6548),i=t(4034),d=t(342),n=t(8176),o=t(4388),c=t(6389),u=t(7075);let m=(0,u.Z)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);function p({onTaskCreated:e}){let[s,t]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[x,h]=(0,r.useState)(!1),[g,f]=(0,r.useState)(null),[j,v]=(0,r.useState)(!1),[b,y]=(0,r.useState)(null),k=()=>{let e=!0;return s.trim()?s.trim().length<1?(y("Title must be at least 1 character long."),e=!1):s.trim().length>255?(y("Title cannot exceed 255 characters."),e=!1):y(null):(y("Title is required."),e=!1),e},N=async a=>{if(a.preventDefault(),f(null),v(!1),k()){h(!0);try{await l.h.post("/api/v1/tasks/",{title:s,description:u},!0),f("Task created successfully!"),t(""),p(""),e()}catch(e){console.error("Failed to create task:",e),f(`Failed to create task: ${e.message}`),v(!0)}finally{h(!1)}}};return(0,a.jsxs)("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Create New Task"}),(0,a.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[g&&a.jsx("div",{className:`p-3 rounded-md ${j?"bg-destructive/20 text-destructive":"bg-green-100 text-green-700"}`,children:g}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(n._,{htmlFor:"title",children:"Title"}),a.jsx(d.I,{type:"text",id:"title",value:s,onChange:e=>{t(e.target.value),b&&y(null)},required:!0,disabled:x,placeholder:"e.g., Buy groceries"}),b&&a.jsx("p",{className:"text-destructive text-sm mt-1",children:b})]}),(0,a.jsxs)("div",{className:"grid gap-2",children:[a.jsx(n._,{htmlFor:"description",children:"Description"}),a.jsx(o.g,{id:"description",rows:3,value:u,onChange:e=>p(e.target.value),disabled:x,placeholder:"Optional details about the task"})]}),(0,a.jsxs)(i.z,{type:"submit",disabled:x||!!b,children:[x?a.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):a.jsx(m,{className:"mr-2 h-4 w-4"}),x?"Creating...":"Create Task"]})]})]})}var x=t(6506),h=t(9956),g=t(1453);let f=(0,u.Z)("rotate-cw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),j=(0,u.Z)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),v=(0,u.Z)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]),b=(0,u.Z)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var y=t(3003);function k({task:e,onStatusChange:s,onTaskDeleted:t}){let[d,n]=(0,r.useState)(!1),[o,u]=(0,r.useState)(null),m=async()=>{n(!0),u(null);let t="pending"===e.status?"completed":"pending";try{await l.h.put(`/api/v1/tasks/${e.id}/`,{status:t},!0),s(e.id,t)}catch(e){console.error("Failed to update task status:",e),u(`Failed to update status: ${e.message}`)}finally{n(!1)}};return(0,a.jsxs)(h.Zb,{className:(0,g.cn)("flex flex-col shadow-md","completed"===e.status&&"opacity-70"),children:[(0,a.jsxs)(h.Ol,{children:[a.jsx(h.ll,{className:(0,g.cn)("completed"===e.status&&"line-through text-muted-foreground"),children:a.jsx(x.default,{href:`/tasks/${e.id}/edit`,className:"hover:underline",children:e.title})}),e.description&&a.jsx(h.SZ,{className:(0,g.cn)("completed"===e.status&&"line-through"),children:e.description}),o&&a.jsx("p",{className:"text-destructive text-sm mt-1",children:o})]}),a.jsx(h.aY,{className:"flex-grow",children:a.jsx("span",{className:(0,g.cn)("inline-flex items-center rounded-md px-2.5 py-0.5 text-xs font-semibold","completed"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"completed"===e.status?"Completed":"Pending"})}),(0,a.jsxs)(h.eW,{className:"flex justify-end gap-2",children:[(0,a.jsxs)(i.z,{onClick:m,disabled:d,variant:"outline",size:"sm",children:[d?a.jsx(c.Z,{className:"mr-2 h-4 w-4 animate-spin"}):"completed"===e.status?a.jsx(f,{className:"mr-2 h-4 w-4"}):a.jsx(j,{className:"mr-2 h-4 w-4"}),d?"Updating...":"completed"===e.status?"Mark Pending":"Mark Complete"]}),a.jsx(i.z,{asChild:!0,variant:"secondary",size:"sm",children:(0,a.jsxs)(x.default,{href:`/tasks/${e.id}/edit`,children:[a.jsx(v,{className:"mr-2 h-4 w-4"})," Edit"]})}),a.jsx(y.u,{taskId:e.id,taskTitle:e.title,onDeleteSuccess:t,children:(0,a.jsxs)(i.z,{variant:"destructive",size:"sm",children:[a.jsx(b,{className:"mr-2 h-4 w-4"})," Delete"]})})]})]})}function N({tasks:e,onStatusChange:s,onTaskDeleted:t,isLoading:r,error:l,onRetry:d}){return r?a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:Array.from({length:3}).map((e,s)=>(0,a.jsxs)(h.Zb,{children:[(0,a.jsxs)(h.Ol,{children:[a.jsx("div",{className:"h-6 bg-muted rounded w-3/4 animate-pulse"}),a.jsx("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse mt-1"})]}),a.jsx(h.aY,{children:a.jsx("div",{className:"h-4 bg-muted rounded w-1/3 animate-pulse"})}),(0,a.jsxs)(h.eW,{className:"justify-end gap-2",children:[a.jsx("div",{className:"h-8 w-20 bg-muted rounded animate-pulse"}),a.jsx("div",{className:"h-8 w-12 bg-muted rounded animate-pulse"})]})]},s))}):l?(0,a.jsxs)("div",{className:"text-center p-6 border border-destructive rounded-lg bg-destructive/10 text-destructive space-y-3",children:[a.jsx("p",{className:"font-semibold text-lg",children:"Error loading tasks!"}),a.jsx("p",{className:"text-sm",children:l}),d&&a.jsx(i.z,{onClick:d,variant:"outline",className:"mt-4",children:"Try Again"})]}):e&&0!==e.length?a.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:e.map(e=>a.jsx(k,{task:e,onStatusChange:s,onTaskDeleted:t},e.id))}):(0,a.jsxs)(h.Zb,{className:"text-center p-6 space-y-3",children:[a.jsx(h.ll,{children:"No tasks found."}),a.jsx(h.SZ,{children:"Start by creating a new task above!"})]})}function w(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)(!0),[d,n]=(0,r.useState)(null),o=(0,r.useCallback)(async()=>{i(!0),n(null);try{let e=await l.h.get("/api/v1/tasks/",!0);s(e)}catch(e){console.error("Failed to fetch tasks:",e),n(`Failed to fetch tasks: ${e.message}`)}finally{i(!1)}},[]);return(0,r.useEffect)(()=>{o()},[o]),(0,a.jsxs)("div",{className:"container mx-auto py-8",children:[a.jsx("h1",{className:"text-4xl font-bold mb-8",children:"Your TaskFlow Dashboard"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[(0,a.jsxs)(h.Zb,{className:"md:col-span-1 shadow-lg h-fit",children:[" ",a.jsx(h.Ol,{children:a.jsx(h.ll,{children:"Create New Task"})}),a.jsx(h.aY,{children:a.jsx(p,{onTaskCreated:()=>{o()}})})]}),a.jsx("div",{className:"md:col-span-2",children:(0,a.jsxs)(h.Zb,{className:"shadow-lg",children:[a.jsx(h.Ol,{children:a.jsx(h.ll,{children:"Your Tasks"})}),a.jsx(h.aY,{children:a.jsx(N,{tasks:e,onStatusChange:(e,t)=>{s(s=>s.map(s=>s.id===e?{...s,status:t}:s))},onTaskDeleted:e=>{s(s=>s.filter(s=>s.id!==e))},isLoading:t,error:d,onRetry:o})})]})})]})]})}},9956:(e,s,t)=>{"use strict";t.d(s,{Ol:()=>n,SZ:()=>c,Zb:()=>d,aY:()=>u,eW:()=>m,ll:()=>o});var a=t(5344),r=t(3729),l=t.n(r);let i=(0,t(9247).j)("rounded-lg border bg-card text-card-foreground shadow-sm",{variants:{},defaultVariants:{}}),d=l().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:i({className:e}),...s}));d.displayName="Card";let n=l().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:`flex flex-col space-y-1.5 p-6 ${e}`,...s}));n.displayName="CardHeader";let o=l().forwardRef(({className:e,...s},t)=>a.jsx("h3",{ref:t,className:`text-lg font-semibold leading-none tracking-tight ${e}`,...s}));o.displayName="CardTitle";let c=l().forwardRef(({className:e,...s},t)=>a.jsx("p",{ref:t,className:`text-sm text-muted-foreground ${e}`,...s}));c.displayName="CardDescription";let u=l().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:`p-6 pt-0 ${e}`,...s}));u.displayName="CardContent";let m=l().forwardRef(({className:e,...s},t)=>a.jsx("div",{ref:t,className:`flex items-center p-6 pt-0 ${e}`,...s}));m.displayName="CardFooter"},342:(e,s,t)=>{"use strict";t.d(s,{I:()=>i});var a=t(5344),r=t(3729),l=t(1453);let i=r.forwardRef(({className:e,type:s,...t},r)=>a.jsx("input",{type:s,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:r,...t}));i.displayName="Input"},8176:(e,s,t)=>{"use strict";t.d(s,{_:()=>u});var a=t(5344),r=t(3729);t(1202);var l=t(2751),i=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,l.Z8)(`Primitive.${s}`),i=r.forwardRef((e,r)=>{let{asChild:l,...i}=e,d=l?t:s;return(0,a.jsx)(d,{...i,ref:r})});return i.displayName=`Primitive.${s}`,{...e,[s]:i}},{}),d=r.forwardRef((e,s)=>(0,a.jsx)(i.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));d.displayName="Label";var n=t(9247),o=t(1453);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),u=r.forwardRef(({className:e,...s},t)=>a.jsx(d,{ref:t,className:(0,o.cn)(c(),e),...s}));u.displayName=d.displayName},4388:(e,s,t)=>{"use strict";t.d(s,{g:()=>i});var a=t(5344),r=t(3729),l=t(1453);let i=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,l.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));i.displayName="Textarea"},7777:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>r,default:()=>i});let a=(0,t(6843).createProxy)(String.raw`C:\Users\user\Desktop\lastdamn\frontend\src\app\tasks\page.tsx`),{__esModule:r,$$typeof:l}=a,i=a.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[22,476,736,879,654,375],()=>t(76));module.exports=a})();